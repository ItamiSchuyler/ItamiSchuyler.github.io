<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Escritorio Itami</title>

<style>
*{box-sizing:border-box;font-family:Arial,sans-serif}
html,body{margin:0;width:100%;height:100%;overflow:hidden;background:#000}

/* VIDEO FONDO */
#video-bg{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-1;
}

/* ESCRITORIO */
#desktop{position:relative;width:100%;height:100%;padding:20px}

/* CARPETAS */
.folder{
  width:90px;
  color:#fff;
  text-align:center;
  position:absolute;
  cursor:pointer;
  user-select:none;
  border-radius:6px;
}
.folder.selected{background:rgba(255,255,255,.15)}
.folder img{width:64px}

/* VENTANAS */
.window{
  position:absolute;
  width:480px;
  background:#1b1b1b;
  color:#eee;
  border-radius:12px;
  box-shadow:0 20px 50px rgba(0,0,0,.7);
  display:none;
  animation:open .25s ease;
}
@keyframes open{
  from{opacity:0;transform:scale(.95)}
  to{opacity:1;transform:scale(1)}
}
.titlebar{
  background:#000;
  padding:10px;
  display:flex;
  justify-content:space-between;
  cursor:move;
}
.content{padding:15px}

/* GALER√çA */
.gallery{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}
.item{position:relative}
.item img{
  width:100%;
  border-radius:8px;
}
.overlay{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.7);
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  transition:.3s;
}
.item:hover .overlay{opacity:1}

/* TASKBAR */
#taskbar{
  position:fixed;
  bottom:0;left:0;
  width:100%;
  height:50px;
  background:rgba(10,10,10,.95);
  display:flex;
  align-items:center;
  padding:0 15px;
  gap:15px;
}

/* CAMPANA */
#notify{
  font-size:22px;
  cursor:pointer;
  animation:pulse 1.5s infinite;
}
@keyframes pulse{
  0%,100%{opacity:1}
  50%{opacity:.4}
}

/* RELOJ */
#clock{
  margin-left:auto;
  color:#fff;
  font-size:13px;
  text-align:right;
}

/* CHAT */
#chatApp{width:700px}
.chat-wrap{display:flex;height:100%}
.friends{width:200px;background:#111}
.friend{
  padding:10px;
  display:flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
}
.friend img{
  width:36px;
  height:36px;
  border-radius:50%;
}
.friend:hover{background:#222}
.chat-box{flex:1;padding:10px}
.msg{
  max-width:70%;
  padding:8px 12px;
  border-radius:12px;
  margin-bottom:6px;
  animation:msg .2s ease;
}
@keyframes msg{
  from{opacity:0;transform:translateY(5px)}
  to{opacity:1}
}
.them{background:#333}
.me{background:#0078ff;margin-left:auto}

/* PLAYER */
#player{
  position:fixed;
  right:20px;
  bottom:70px;
  width:300px;
  background:rgba(15,15,15,.95);
  border-radius:14px;
  padding:15px;
  color:#fff;
}
#controls{display:flex;gap:10px;margin-top:10px}
#play{font-size:22px;cursor:pointer}
#progress{flex:1;height:5px;background:#333;border-radius:4px}
#bar{height:100%;width:0;background:#fff}
.track{font-size:12px;cursor:pointer;opacity:.6}
.track.active{opacity:1}
</style>
</head>

<body>

<!-- VIDEO -->
<video id="video-bg" autoplay muted loop playsinline>
  <source src="fondoo.mp4" type="video/mp4">
</video>

<div id="desktop">
  <div class="folder" data-open="itami" style="top:20px;left:20px">
    <img src="https://cdn-icons-png.flaticon.com/512/716/716784.png">
    <div>itami</div>
  </div>

  <div class="folder" data-open="trabajos" style="top:120px;left:20px">
    <img src="https://cdn-icons-png.flaticon.com/512/716/716784.png">
    <div>mis trabajos</div>
  </div>
</div>

<!-- VENTANAS -->
<div class="window" id="itami">
  <div class="titlebar">Itami <span onclick="closeWin('itami')">‚úï</span></div>
  <div class="content gallery">
    <div class="item">
      <img src="https://placekitten.com/400/250">
      <div class="overlay">Perfil</div>
    </div>
  </div>
</div>

<div class="window" id="trabajos">
  <div class="titlebar">Trabajos <span onclick="closeWin('trabajos')">‚úï</span></div>
  <div class="content gallery">
    <div class="item">
      <img src="https://placekitten.com/401/250">
      <div class="overlay">Proyecto Web</div>
    </div>
    <div class="item">
      <img src="https://placekitten.com/402/250">
      <div class="overlay">UI Design</div>
    </div>
  </div>
</div>

<div class="window" id="chatApp">
  <div class="titlebar">Chats <span onclick="closeWin('chatApp')">‚úï</span></div>
  <div class="content chat-wrap">
    <div class="friends" id="friends"></div>
    <div class="chat-box" id="chatBox"></div>
  </div>
</div>

<div id="taskbar">
  <div id="notify" onclick="openWin('chatApp')">üîî</div>
  <div id="clock"></div>
</div>

<div id="player">
  <strong>Music Player</strong>
  <div id="controls">
    <div id="play">‚ñ∂</div>
    <div id="progress"><div id="bar"></div></div>
  </div>
  <div id="playlist"></div>
</div>

<audio id="audio"></audio>

<script>
/* VIDEO FIX */
const bg=document.getElementById('video-bg');
bg.muted=true;
bg.play().catch(()=>{});

/* VENTANAS */
let z=10;
function openWin(id){
  const w=document.getElementById(id);
  w.style.display='block';
  w.style.left='140px';
  w.style.top='90px';
  w.style.zIndex=++z;
}
function closeWin(id){document.getElementById(id).style.display='none';}

/* CARPETAS DRAG */
document.querySelectorAll('.folder').forEach(folder=>{
  let drag=false,ox=0,oy=0;
  folder.addEventListener('mousedown',e=>{
    drag=true;
    ox=e.clientX-folder.offsetLeft;
    oy=e.clientY-folder.offsetTop;
    folder.classList.add('selected');
  });
  document.addEventListener('mousemove',e=>{
    if(!drag)return;
    folder.style.left=e.clientX-ox+'px';
    folder.style.top=e.clientY-oy+'px';
  });
  document.addEventListener('mouseup',()=>{
    drag=false;
    folder.classList.remove('selected');
  });
  folder.ondblclick=()=>openWin(folder.dataset.open);
});

/* CHAT */
const chats={
  Chris:['Hola üëã','¬øQu√© haces?'],
  Taiga:['Eres muy cotilla üòÖ'],
  Cesar:['Spaces en mantenimiento']
};
const friends=document.getElementById('friends');
const chatBox=document.getElementById('chatBox');

Object.keys(chats).forEach(n=>{
  const f=document.createElement('div');
  f.className='friend';
  f.innerHTML=`<img src="https://i.pravatar.cc/100?u=${n}">${n}`;
  f.onclick=()=>loadChat(n);
  friends.appendChild(f);
});

function loadChat(n){
  chatBox.innerHTML='';
  chats[n].forEach((m,i)=>{
    setTimeout(()=>{
      const d=document.createElement('div');
      d.className='msg '+(i%2?'me':'them');
      d.textContent=m;
      chatBox.appendChild(d);
    },i*300);
  });
}

/* PLAYER */
const tracks=[
  {name:'Track 1',src:'song.mp3'},
  {name:'Track 2',src:'cancion2.mp3'}
];
const audio=document.getElementById('audio');
const play=document.getElementById('play');
const bar=document.getElementById('bar');
const list=document.getElementById('playlist');

tracks.forEach((t,i)=>{
  const d=document.createElement('div');
  d.className='track';
  d.textContent=t.name;
  d.onclick=()=>{audio.src=t.src;audio.play();play.textContent='‚è∏'};
  list.appendChild(d);
});

play.onclick=()=>{
  audio.paused?(audio.play(),play.textContent='‚è∏'):(audio.pause(),play.textContent='‚ñ∂');
};

audio.ontimeupdate=()=>{
  if(audio.duration) bar.style.width=audio.currentTime/audio.duration*100+'%';
};

/* CLOCK */
function clock(){
  const d=new Date();
  document.getElementById('clock').innerHTML=
    d.toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit'})+
    '<br>'+d.toLocaleDateString('es-ES');
}
clock();setInterval(clock,1000);
</script>

</body>
</html>

