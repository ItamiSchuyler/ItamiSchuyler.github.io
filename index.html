<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Escritorio Itami</title>

<style>
*{box-sizing:border-box;font-family:Arial,sans-serif}
html,body{margin:0;width:100%;height:100%;overflow:hidden;background:#000}

#video-bg{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-1;
}

#desktop{position:relative;width:100%;height:100%;padding:20px}

.folder{
  width:90px;
  color:#fff;
  text-align:center;
  position:absolute;
  cursor:pointer;
  user-select:none;
  border-radius:6px;
}
.folder.selected{background:rgba(255,255,255,.15)}
.folder img{width:64px}

.window{
  position:absolute;
  width:480px;
  background:#1b1b1b;
  color:#eee;
  border-radius:12px;
  box-shadow:0 20px 50px rgba(0,0,0,.7);
  display:none;
  animation:open .25s ease;
}
@keyframes open{
  from{opacity:0;transform:scale(.95)}
  to{opacity:1;transform:scale(1)}
}

.titlebar{
  background:#000;
  padding:10px;
  display:flex;
  justify-content:space-between;
  cursor:move;
}
.content{padding:15px}

.gallery{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}
.item video,.item img{width:100%;border-radius:8px}

#taskbar{
  position:fixed;
  bottom:0;left:0;
  width:100%;
  height:50px;
  background:rgba(10,10,10,.95);
  display:flex;
  align-items:center;
  padding:0 15px;
  gap:15px;
}

#notify{
  font-size:22px;
  cursor:pointer;
  animation:pulse 1.5s infinite;
}

@keyframes pulse{
  0%,100%{opacity:1}
  50%{opacity:.4}
}

#clock{
  margin-left:auto;
  color:#fff;
  font-size:13px;
  text-align:right;
}

/* CHAT */
#chatApp{width:700px}
.chat-wrap{display:flex;height:350px}
.friends{width:200px;background:#111}
.friend{
  padding:10px;
  display:flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
}
.friend img{
  width:36px;
  height:36px;
  border-radius:50%;
}
.friend:hover{background:#222}
.chat-box{flex:1;padding:10px;overflow:auto}
.msg{
  max-width:70%;
  padding:8px 12px;
  border-radius:12px;
  margin-bottom:6px;
}
.them{background:#333}
.me{background:#0078ff;margin-left:auto}

/* PLAYER */
#player{
  position:fixed;
  right:20px;
  bottom:70px;
  width:300px;
  background:rgba(15,15,15,.95);
  border-radius:14px;
  padding:15px;
  color:#fff;
}
#controls{display:flex;gap:10px;margin-top:10px}
#play{font-size:22px;cursor:pointer}
#progress{flex:1;height:5px;background:#333;border-radius:4px}
#bar{height:100%;width:0;background:#fff}
.track{font-size:12px;cursor:pointer;opacity:.6}
.track.active{opacity:1}
</style>
</head>

<body>

<video id="video-bg" autoplay muted loop playsinline>
  <source src="fondoo.mp4" type="video/mp4">
</video>

<div id="desktop">

<div class="folder" data-open="itami" style="top:20px;left:20px">
<img src="https://cdn-icons-png.flaticon.com/512/716/716784.png">
<div>itami</div>
</div>

<div class="folder" data-open="trabajos" style="top:120px;left:20px">
<img src="https://cdn-icons-png.flaticon.com/512/716/716784.png">
<div>mis trabajos</div>
</div>

<div class="folder" data-open="codigos" style="top:220px;left:20px">
<img src="https://cdn-icons-png.flaticon.com/512/716/716784.png">
<div>mis cÃ³digos</div>
</div>

</div>

<!-- ventanas -->
<div class="window" id="itami">
<div class="titlebar">Itami <span onclick="closeWin('itami')">âœ•</span></div>
<div class="content gallery">
<img src="https://placekitten.com/400/250">
</div>
</div>

<div class="window" id="trabajos">
<div class="titlebar">Trabajos <span onclick="closeWin('trabajos')">âœ•</span></div>
<div class="content gallery">
<img src="https://placekitten.com/401/250">
<img src="https://placekitten.com/402/250">
</div>
</div>

<div class="window" id="codigos">
<div class="titlebar">Mis cÃ³digos <span onclick="closeWin('codigos')">âœ•</span></div>
<div class="content gallery">
<div class="item"><video controls src="demo1.mp4"></video></div>
<div class="item"><video controls src="demo2.mp4"></video></div>
</div>
</div>

<!-- CHAT -->
<div class="window" id="chatApp">
<div class="titlebar">Chats <span onclick="closeWin('chatApp')">âœ•</span></div>
<div class="content chat-wrap">
<div class="friends" id="friends"></div>
<div class="chat-box" id="chatBox"></div>
</div>
</div>

<div id="taskbar">
<div id="notify" onclick="openWin('chatApp')">ðŸ””</div>
<div id="clock"></div>
</div>

<!-- PLAYER -->
<div id="player">
<strong></strong>
<div id="controls">
<div id="play">â–¶</div>
<div id="progress"><div id="bar"></div></div>
</div>
<div id="playlist"></div>
</div>

<audio id="audio"></audio>

<script>

/* VIDEO */
const bg=document.getElementById('video-bg');
bg.addEventListener('loadeddata',()=>bg.play().catch(()=>{}));

/* ventanas */
let z=10;
function openWin(id){
 const w=document.getElementById(id);
 w.style.display='block';
 w.style.left='140px';
 w.style.top='90px';
 w.style.zIndex=++z;
}
function closeWin(id){
 document.getElementById(id).style.display='none';
}

/* drag carpetas */
document.querySelectorAll('.folder').forEach(folder=>{
 let drag=false,ox=0,oy=0;
 folder.addEventListener('mousedown',e=>{
   drag=true;
   ox=e.clientX-folder.offsetLeft;
   oy=e.clientY-folder.offsetTop;
 });
 document.addEventListener('mousemove',e=>{
   if(!drag)return;
   folder.style.left=e.clientX-ox+'px';
   folder.style.top=e.clientY-oy+'px';
 });
 document.addEventListener('mouseup',()=>drag=false);
 folder.ondblclick=()=>openWin(folder.dataset.open);
});

/* CHAT */
const chats={
 Chris:['Hola ðŸ‘‹','Â¿QuÃ© haces?'],
 Taiga:['Eres cotilla ðŸ˜…'],
 Cesar:['Spaces en mantenimiento']
};

const friends=document.getElementById('friends');
const chatBox=document.getElementById('chatBox');

Object.keys(chats).forEach(n=>{
 const f=document.createElement('div');
 f.className='friend';
 f.innerHTML=`<img src="https://i.pravatar.cc/100?u=${n}">${n}`;
 f.onclick=()=>loadChat(n);
 friends.appendChild(f);
});

function loadChat(n){
 chatBox.innerHTML='';
 chats[n].forEach((m,i)=>{
   const d=document.createElement('div');
   d.className='msg '+(i%2?'me':'them');
   d.textContent=m;
   chatBox.appendChild(d);
 });
}

/* PLAYER PRO */
const tracks=[
 {name:'Justin Bieber - Shes Confidence',src:'song.mp3'},
 {name:'Yapi - Â¿DÃ³nde te escondes?',src:'song2.mp3'}
];

const audio=document.getElementById('audio');
const play=document.getElementById('play');
const bar=document.getElementById('bar');
const list=document.getElementById('playlist');

let current=localStorage.getItem('track') || 0;
let shuffle=false;

function loadTrack(i){
 current=i;
 audio.src=tracks[i].src;
 localStorage.setItem('track',i);
 document.querySelectorAll('.track').forEach(x=>x.classList.remove('active'));
 document.querySelectorAll('.track')[i].classList.add('active');
}

tracks.forEach((t,i)=>{
 const d=document.createElement('div');
 d.className='track';
 d.textContent=t.name;
 d.onclick=()=>{loadTrack(i);audio.play();play.textContent='â¸'};
 list.appendChild(d);
});

loadTrack(current);

play.onclick=()=>{
 audio.paused?(audio.play(),play.textContent='â¸'):(audio.pause(),play.textContent='â–¶');
};

audio.ontimeupdate=()=>{
 if(audio.duration)
  bar.style.width=(audio.currentTime/audio.duration*100)+'%';
};

audio.onended=()=>{
 if(shuffle){
   loadTrack(Math.floor(Math.random()*tracks.length));
 }else{
   loadTrack((Number(current)+1)%tracks.length);
 }
 audio.play();
};

/* CLOCK */
function clock(){
 const d=new Date();
 document.getElementById('clock').innerHTML=
  d.toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit'})+
  '<br>'+d.toLocaleDateString('es-ES');
}
clock();
setInterval(clock,1000);

</script>

</body>
</html>



