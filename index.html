<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Escritorio Itami</title>

<style>
*{box-sizing:border-box;font-family:Arial,sans-serif}

html,body{
margin:0;width:100%;height:100%;overflow:hidden;
}

/* WALLPAPER */
#wallpaper-container{
  position:fixed;
  inset:0;
  z-index:-3;
}

.wallpaper-layer{
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  opacity:0;
  transition:opacity .8s ease;
}

.wallpaper-layer.active{
  opacity:1;
}
  #particles{
position:fixed;
inset:0;
pointer-events:none;
z-index:-2;
}
  
/* BLUR */
#blur-layer{
position:fixed;inset:0;
backdrop-filter:blur(12px);
background:rgba(0,0,0,.25);
opacity:0;
transition:.3s;
z-index:-1;
pointer-events:none;
}
#blur-layer.active{opacity:1}

/* DESKTOP */
#desktop{
  position:relative;
  height:100vh;
  width:100vw;
  overflow:hidden;
}

/* FOLDERS */
.folder{
width:100px;
color:#EDEDED;
text-align:center;
position:absolute;
cursor:pointer;
user-select:none;
padding:10px;
border-radius:10px;
transition:.2s ease;
}
.folder:hover{transform:scale(1.04)}
.folder img{width:64px}
.folder span{font-size:13px;margin-top:4px;display:block}

/* WINDOWS ‚Äî WINDOWS STYLE */
.window{
  position:absolute;
  width:640px;
  background:rgba(20,20,20,.92);
  backdrop-filter:blur(18px) saturate(120%);
  color:#eee;
  border-radius:14px;
  box-shadow:
    0 20px 60px rgba(0,0,0,.65),
    inset 0 1px rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.08);
  display:none;
  overflow:hidden;
  animation:open .22s ease;
}

  .window .window-content{
  padding:18px 20px;
}

  .window > div:not(.titlebar){
  padding:18px 20px;
}

/* OPEN ANIMATION */
@keyframes open{
  from{opacity:0;transform:scale(.96) translateY(8px)}
  to{opacity:1;transform:scale(1) translateY(0)}
}

/* TITLE BAR */
.titlebar{
  height:46px;
  background:linear-gradient(180deg,#101010,#0b0b0b);
  padding:0 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  cursor:grab;
  font-weight:600;
  font-size:14px;
  letter-spacing:.3px;
  border-bottom:1px solid rgba(255,255,255,.08);
}

/* WINDOW CONTROLS */
.titlebar span{
  display:flex;
  gap:6px;
  font-size:14px;
}

/* BUTTONS */
.titlebar span button{
  width:14px;
  height:14px;
  border-radius:50%;
  border:none;
  cursor:pointer;
  transition:.15s ease;
}

/* CLOSE */
.titlebar span button.close{
  background:#ff5f57;
}
.titlebar span button.min{
  background:#ffbd2e;
}
.titlebar span button.max{
  background:#28c840;
}

.titlebar span button:hover{
  transform:scale(1.15);
}


/* TASKBAR */
#taskbar{
position:fixed;
bottom:0;
width:100%;
height:55px;
display:flex;
align-items:center;
padding:0 20px;
gap:15px;

background:rgba(20,20,20,.45); /* menos opaco */
backdrop-filter:blur(18px) saturate(130%);
-webkit-backdrop-filter:blur(18px) saturate(130%);

border-top:1px solid rgba(255,255,255,.08);
box-shadow:0 -5px 25px rgba(0,0,0,.35);
}

#notify{font-size:22px;cursor:pointer}

  #notify{
font-size:22px;
cursor:pointer;
position:relative;
transition:.2s;
}
#notify:hover{transform:scale(1.15)}

#notifBadge{
position:absolute;
top:-6px;
right:-6px;
background:red;
color:white;
font-size:11px;
padding:2px 6px;
border-radius:12px;
font-weight:bold;
box-shadow:0 0 8px red;
animation:pulseNotif 1.2s infinite;
}

@keyframes pulseNotif{
50%{transform:scale(1.15)}
}
#clock{
margin-left:auto;
color:#fff;
font-size:13px;
text-align:right;
font-weight:600;
letter-spacing:.3px;

text-shadow:
0 0 8px rgba(0,0,0,.6),
0 0 12px rgba(0,0,0,.4);
}

/* CHAT */
.chat-wrap{display:flex;height:360px}
.friends{width:200px;background:#111;padding:5px}
.friend{
padding:10px;
display:flex;
align-items:center;
gap:10px;
cursor:pointer;
border-radius:10px;
}
.friend:hover{background:#222}
.friend img{width:36px;height:36px;border-radius:50%}

.chat-box{flex:1;padding:12px;overflow:auto}

/* CHAT HEADER */
.chat-header{
height:90px;
display:flex;
align-items:center;
gap:12px;
padding:10px;
background-size:cover;
background-position:center;
border-bottom:1px solid rgba(255,255,255,.15);
color:white;
}

.chat-header img{
width:48px;height:48px;border-radius:50%;
border:2px solid white;
cursor:pointer;
}

/* MESSAGES */
.msg{
max-width:70%;
padding:8px 12px;
border-radius:12px;
margin-bottom:6px;
opacity:0;
transform:translateY(8px);
animation:msgAppear .35s forwards;
}

.msg.me{background:#0078ff;margin-left:auto}

@keyframes msgAppear{
to{opacity:1;transform:translateY(0)}
}

/* STATUS */
.status-dot{
width:10px;height:10px;border-radius:50%;
display:inline-block;margin-right:6px;
box-shadow:0 0 8px currentColor;
animation:pulseStatus 1.6s infinite;
}
.online{color:#00ff9c}
.away{color:#ffaa00}
.busy{color:#ff4444}
@keyframes pulseStatus{
50%{opacity:.4; transform:scale(.85)}
}

/* TYPING */
.typing{
width:60px;padding:8px 12px;border-radius:12px;
background:#333;display:flex;gap:4px;
}
.dot{
width:6px;height:6px;background:white;border-radius:50%;
animation:blink 1.2s infinite;
}
.dot:nth-child(2){animation-delay:.2s}
.dot:nth-child(3){animation-delay:.4s}
@keyframes blink{
0%,100%{opacity:.2}50%{opacity:1}
}

/* PROFILE POPUP */

.profile-popup{
position:absolute;
width:260px;
border-radius:22px;
padding:24px 20px;
display:none;
z-index:9999;

background:rgba(25,25,25,.65);
backdrop-filter:blur(20px) saturate(140%);
border:1px solid rgba(255,255,255,.08);

box-shadow:
0 25px 60px rgba(0,0,0,.65),
inset 0 1px rgba(255,255,255,.1);

animation:popupFade .25s ease;

--mouse-x:50%;
--mouse-y:50%;
}

/* GLOW */
.profile-popup::before{
content:"";
position:absolute;
inset:0;
border-radius:inherit;
pointer-events:none;

background:
radial-gradient(
  220px circle at var(--mouse-x) var(--mouse-y),
  rgba(255,255,255,.22),
  transparent 60%
),
radial-gradient(
  500px circle at center,
  rgba(255,255,255,.03),
  transparent 70%
);

opacity:0;
transition:.2s ease;
}

.profile-popup:hover::before{
opacity:1;
}

.profile-body h3{
margin:0;
font-size:18px;
}

.profile-bio{
opacity:.7;
font-size:13px;
margin-top:6px;
}

.profile-status{
margin-top:10px;
font-size:12px;
padding:6px 12px;
border-radius:20px;
display:inline-block;
backdrop-filter:blur(8px);
}

.profile-status.online{
background:rgba(0,255,156,.15);
color:#00ff9c;
}

.profile-status.away{
background:rgba(255,170,0,.15);
color:#ffaa00;
}

.profile-status.busy{
background:rgba(255,70,70,.15);
color:#ff4444;
}

/* PLAYER */
#player{
position:fixed;
right:20px;
bottom:70px;
width:320px;
background:linear-gradient(160deg, rgba(40,40,40,.6), rgba(15,15,15,.9));
backdrop-filter:blur(18px);
border-radius:20px;
padding:16px;
color:#fff;
box-shadow:0 15px 45px rgba(0,0,0,.7);
border:1px solid rgba(255,255,255,.08);
}

#controls{
display:flex;
gap:14px;
align-items:center;
margin-bottom:10px;
}

#play{
font-size:20px;
cursor:pointer;
padding:10px 14px;
border-radius:14px;
background:rgba(255,255,255,.12);
transition:.2s ease;
}

#play:hover{
background:white;
color:black;
transform:scale(1.1);
}

#progress{
flex:1;
height:8px;
background:rgba(255,255,255,.18);
border-radius:999px;
overflow:hidden;
}

#bar{
height:100%;
width:0;
background:linear-gradient(90deg,#ffffff,#bdbdbd);
border-radius:999px;
}

.track{
font-size:13px;
padding:8px 10px;
border-radius:10px;
cursor:pointer;
opacity:.6;
transition:.2s ease;
}

.track:hover{
background:rgba(255,255,255,.1);
opacity:1;
}

.track.active{
opacity:1;
background:rgba(255,255,255,.18);
font-weight:600;
}

  #player.playing{
box-shadow:0 0 35px rgba(255,255,255,.18);
}
 .itami-card{
width:100%;
height:420px;
background:linear-gradient(180deg,#141414,#0f0f0f);
color:white;
position:relative;
overflow:hidden;
font-family:'Inter','Poppins',system-ui,sans-serif;
}

/* TEXT */
.itami-top{
padding:22px 24px;
z-index:2;
position:relative;
}
.itami-top h1{
font-size:40px;
margin:0;
font-weight:900;
letter-spacing:.5px;
transition:.25s ease;
text-shadow:0 0 0 rgba(255,255,255,0);
}

.itami-top h1:hover{
color:#ffffff;
text-shadow:
0 0 8px rgba(255,255,255,.35),
0 0 20px rgba(255,255,255,.2),
0 0 35px rgba(255,255,255,.15);
transform:scale(1.03);
}
.itami-top p{
margin-top:6px;
opacity:.75;
font-size:14px;
font-weight:500;
}

/* FLOAT IMAGE */
.itami-img{
  position:absolute;
  right:18px;
  top:80px;
  width:190px;
  filter:drop-shadow(0 15px 35px rgba(0,0,0,.6));
  transition:.35s ease;
  animation:floatImg 4.5s ease-in-out infinite;
}

.itami-img:hover{
  filter:drop-shadow(0 15px 35px rgba(0,0,0,.6)) 
         grayscale(1) 
         brightness(1.2);
  transform:scale(1.03);
}

@keyframes floatImg{
0%,100%{transform:translateY(0)}
50%{transform:translateY(-10px)}
}


 .wave-container {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 160px;
  overflow: hidden;
  z-index: 1;
}

.wave-container svg {
  width: 220%;
  height: 100%;
  animation: waveMove 10s linear infinite;
}

.wave-container path {
  fill: #2b2b2b; /* gris oscuro */
}

@keyframes waveMove {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}
/* SOCIALS MODERN */
.socials{
position:absolute;
bottom:22px;
left:24px;
display:flex;
gap:18px;
z-index:3;
}

.socials a{
width:42px;
height:42px;
display:grid;
place-items:center;
border-radius:12px;
background:rgba(255,255,255,.12);
backdrop-filter:blur(8px);
transition:.25s ease;
text-decoration:none;
}

.socials a:hover{
transform:scale(1.15);
background:rgba(255,255,255,.22);
}
.socials svg{
width:20px;height:20px;
fill:white;
}

 .mini-grid{
  margin-top:16px;
  width:180px;
  display:grid;
  grid-template-columns:repeat(2, 1fr);
  gap:10px;
}

.mini-grid img {
  border-radius:12px;
  border:1px solid rgba(255,255,255,.12);
  backdrop-filter:blur(6px);
  transition:.2s ease;
}

  .mini-grid img:hover{
  box-shadow:0 0 12px rgba(255,255,255,.15);
}

.mini-grid img{
  width:75px; /* ICONOS M√ÅS GRANDES */
  height:75px;
  object-fit:contain;
  opacity:1;
  border-radius:12px;
}

  #nowPlaying{
  font-size:14px;
  font-weight:600;
  margin-bottom:10px;
  overflow:hidden;
  white-space:nowrap;
  position:relative;
}

#songTitle{
  display:inline-block;
  padding-left:100%;
  animation: scrollTitle 12s linear infinite;
  opacity:.85;
}

#player.playing #songTitle{
  opacity:1;
  text-shadow:0 0 10px rgba(255,255,255,.35);
}

@keyframes scrollTitle{
  from{ transform:translateX(0); }
  to{ transform:translateX(-100%); }
}

  .window.active{
  box-shadow:
    0 25px 70px rgba(0,0,0,.75),
    0 0 0 1px rgba(255,255,255,.12),
    inset 0 1px rgba(255,255,255,.1);
}

  .portfolio-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));
  gap:16px;
}

.portfolio-item{
  position:relative;
  border-radius:14px;
  overflow:hidden;
  cursor:pointer;
  background:#111;
  transition:.25s ease;
}

.portfolio-item img{
  width:100%;
  height:140px;
  object-fit:cover;
  transition:.3s ease;
}

.portfolio-item:hover img{
  transform:scale(1.08);
  filter:brightness(.8);
}

.portfolio-item span{
  position:absolute;
  bottom:0;
  width:100%;
  padding:8px 10px;
  background:linear-gradient(transparent, rgba(0,0,0,.85));
  font-size:13px;
}

  .video-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(220px, 1fr));
  gap:16px;
}

.video-card{
  background:#111;
  border-radius:14px;
  overflow:hidden;
  cursor:pointer;
  transition:.2s ease;
}

.video-card:hover{
  transform:scale(1.03);
  box-shadow:0 0 25px rgba(255,255,255,.12);
}

.video-card video{
  width:100%;
  height:140px;
  object-fit:cover;
}

.video-card p{
  padding:10px;
  font-size:13px;
  opacity:.85;
}

  #changeBg{
  position:fixed;
  top:20px;
  right:20px;
  padding:10px 16px;
  border:none;
  border-radius:14px;
  background:rgba(255,255,255,.12);
  backdrop-filter:blur(10px);
  color:white;
  cursor:pointer;
  transition:.25s ease;
  z-index:9999;
}

#changeBg:hover{
  background:white;
  color:black;
  transform:scale(1.08);
}

  #wallSelector{
  position:fixed;
  bottom:70px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:12px;
  padding:12px 16px;
  border-radius:20px;
  background:rgba(20,20,20,.7);
  backdrop-filter:blur(20px);
  z-index:9999;
}

.wall-thumb{
  width:70px;
  height:45px;
  border-radius:10px;
  background-size:cover;
  background-position:center;
  cursor:pointer;
  opacity:.6;
  transition:.25s ease;
  border:2px solid transparent;
}

.wall-thumb:hover{
  opacity:1;
  transform:scale(1.1);
}

.wall-thumb.active{
  opacity:1;
  border:2px solid white;
}

  @media (prefers-reduced-motion: reduce){
  *{
    animation:none !important;
    transition:none !important;
  }
}

  .chat-input{
  display:flex;
  padding:8px;
  gap:8px;
  background:#111;
}

.chat-input input{
  flex:1;
  background:#222;
  border:none;
  padding:8px;
  border-radius:6px;
  color:white;
  outline:none;
}

.chat-input button{
  background:#5865f2;
  border:none;
  padding:8px 12px;
  border-radius:6px;
  color:white;
  cursor:pointer;
}

  .msg{
  padding:6px 10px;
  margin:6px;
  border-radius:10px;
  max-width:70%;
  font-size:14px;
}

.msg.friend{
  background:#2b2d31;
  align-self:flex-start;
}

.msg.me{
  background:#5865f2;
  align-self:flex-end;
}
</style>
</head>

<body>
  
<div id="wallSelector"></div>

  
<div id="wallpaper-container">
  <div class="wallpaper-layer active"></div>
  <div class="wallpaper-layer"></div>
</div>
  <canvas id="particles"></canvas>
<div id="blur-layer"></div>

<div id="desktop">

 
  
<div class="folder" data-open="itami">
<img src="https://cdn-icons-png.flaticon.com/128/456/456793.png">
<span>xxx</span>
</div>

<div class="folder" data-open="trabajos">
<img src="https://cdn-icons-png.flaticon.com/128/456/456793.png">
<span>Trabajos</span>
</div>

<div class="folder" data-open="codigos">
<img src="https://cdn-icons-png.flaticon.com/128/456/456793.png">
<span>C√≥digos</span>
</div>

</div>

<div id="profilePopup" class="profile-popup"></div>

<!-- WINDOWS -->
<div class="window" id="itami">
<div class="titlebar">
  Sobre m√≠
  <span>
    <button class="min"></button>
    <button class="max"></button>
    <button class="close"></button>
  </span>
</div>
<div class="window-content">
<div class="itami-card">

  <div class="itami-top">
    <h1>I T A M I</h1>
    <p>27 - üìçGermany - Designer & Programmer</p>

    <div class="mini-grid">
  <img src="https://i.postimg.cc/bYg6NdDx/gif-anime.gif">
  <img src="https://i.ibb.co/RG3tF8gN/tumblr-466aadaf37e97bf451653edece07081c-cd3061d2-400.jpg">
<img src="https://i.ibb.co/SX4TJJCN/tumblr-b987ccd63f93a2bbcde158dce80a0776-6a42963f-400.jpg">
  <img src="https://i.postimg.cc/43vkxsRL/tumblr-4c0c3496920d6a251b1438d5d607acc4-75311bd2-500.webp">
</div>
  </div>
  

  <img class="itami-img" src="https://i.ibb.co/WWHTzk6s/uwvglqx0si1b1.png">

  <div class="socials">
    <a href="https://instagram.com/itamich_" target="_blank" title="Instagram">
      <svg viewBox="0 0 24 24"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6.5-.9a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2z"/></svg>
    </a>

    <a href="https://twitch.tv/itamich" target="_blank" title="Twitch">
      <svg viewBox="0 0 24 24"><path d="M4 3h16v12l-4 4h-5l-3 3H6v-3H4z"/></svg>
    </a>

    <a href="https://x.com/needsushi" target="_blank" title="X">
      <svg viewBox="0 0 24 24"><path d="M4 4l7.5 8.5L4 20h4.5l4.7-5.3L17.5 20H20l-7.8-8.9L19.3 4h-4.5l-4.1 4.7L8.2 4z"/></svg>
    </a>
  </div>

 <div class="wave-container">
  <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
    <path d="M0,60 C200,120 400,0 600,60 800,120 1000,0 1200,60 V120 H0 Z"></path>
  </svg>
</div>
  
</div>
</div>
  </div>

<div class="window" id="trabajos">
  <div class="titlebar">
    Trabajos
    <span>
      <button class="min"></button>
      <button class="max"></button>
     <button class="close"></button>
    </span>
  </div>

  <div class="window-content">
    <div class="portfolio-grid" id="designGrid"></div>
  </div>
</div>

  <div class="window" id="codigos">
  <div class="titlebar">
    Mis c√≥digos
    <span>
      <button class="min"></button>
      <button class="max"></button>
     <button class="close"></button>
    </span>
  </div>

  <div class="window-content">
    <div class="video-grid" id="codeGrid"></div>
  </div>
</div>

<!-- CHAT -->
<div class="window" id="chatApp">
  <div class="titlebar">
    Amigos
    <button class="close"></button>
  </div>

  <div class="chat-wrap">

  <div class="friends" id="friends"></div>

  <div style="flex:1; display:flex; flex-direction:column;">

    <div class="chat-header" id="chatHeader"></div>

    <div class="chat-box" id="chatBox" style="flex:1;display:flex;
flex-direction:column;
overflow-y:auto"></div>

    <div class="chat-input">
      <input type="text" id="chatInput" placeholder="Escribe un mensaje...">
      <button id="sendMsg">Enviar</button>
    </div>

  </div>

</div>

<!-- TASKBAR -->
<div id="taskbar">
<div id="notify">
üîî
<span id="notifBadge">3</span>
</div>
<div id="clock"></div>
</div>

<!-- PLAYER -->
<div id="player"><div id="nowPlaying">
  <span id="songTitle"></span>
</div>
<div id="controls">
<div id="play">‚ñ∂</div>
<div id="progress"><div id="bar"></div></div>
</div>
<div id="playlist"></div>
</div>

<audio id="audio"></audio>

<script>
document.addEventListener("DOMContentLoaded", () => {

//////////////////////////////
// HELPERS
//////////////////////////////

const $ = (sel) => document.querySelector(sel);
const $$ = (sel) => document.querySelectorAll(sel);

//////////////////////////////
// STATE
//////////////////////////////

const state = {
  zIndex: 10,
  currentTrack: 0,
  currentWallpaper: Number(localStorage.getItem("wall")) || 0,
  activeChat: null
};

//////////////////////////////
// NOTIFICATION BUTTON
//////////////////////////////

$("#notify").addEventListener("click", () => {
  openWin("chatApp");
  const badge = $("#notifBadge");
  if(badge) badge.style.display = "none";
});

//////////////////////////////
// WINDOW SYSTEM
//////////////////////////////

function centerWindow(win){
  win.style.left = (window.innerWidth - win.offsetWidth)/2 + "px";
  win.style.top  = (window.innerHeight - win.offsetHeight)/2 + "px";
}

function bringToFront(win){
  state.zIndex++;
  win.style.zIndex = state.zIndex;
  $$(".window").forEach(w=>w.classList.remove("active"));
  win.classList.add("active");
}

function updateBlur(){
  const open = [...$$(".window")]
    .some(w=>w.style.display==="block");
  $("#blur-layer").classList.toggle("active", open);
}

function openWin(id){
  const win = $("#"+id);
  win.style.display="block";

  if(!win.dataset.opened){
    centerWindow(win);
    win.dataset.opened="true";
  }

  bringToFront(win);
  updateBlur();

  if(id==="chatApp" && !state.activeChat){
    loadChat(Object.keys(chats)[0]);
  }
}

function closeWin(id){
  $("#"+id).style.display="none";
  updateBlur();
}

//////////////////////////////
// DRAG GPU
//////////////////////////////

function makeDraggable(el, handle){
  let isDragging=false;
  let startX=0,startY=0;
  let x=0,y=0;

  el.style.transform="translate3d(0,0,0)";
  el.style.willChange="transform";

  handle.addEventListener("mousedown",e=>{
    isDragging=true;
    startX=e.clientX-x;
    startY=e.clientY-y;
    bringToFront(el);
  });

  document.addEventListener("mousemove",e=>{
    if(!isDragging) return;
    x=e.clientX-startX;
    y=e.clientY-startY;
    el.style.transform=`translate3d(${x}px,${y}px,0)`;
  });

  document.addEventListener("mouseup",()=>isDragging=false);
}

$$(".window").forEach(win=>{
  makeDraggable(win, win.querySelector(".titlebar"));
  win.addEventListener("mousedown",()=>bringToFront(win));
  const c=win.querySelector(".close");
  if(c) c.addEventListener("click",()=>closeWin(win.id));
});

//////////////////////////////
// FOLDERS
//////////////////////////////

function organizeFolders(){
  let x=30,y=80;
  const step=110;
  const limit=window.innerHeight-150;

  $$(".folder").forEach(f=>{
    f.style.transform=`translate3d(${x}px,${y}px,0)`;
    y+=step;
    if(y>limit){y=80;x+=step;}
  });
}

organizeFolders();
window.addEventListener("resize",organizeFolders);

$$(".folder").forEach(f=>{
  makeDraggable(f,f);
  f.addEventListener("dblclick",
    ()=>openWin(f.dataset.open));
});

//////////////////////////////
// CHAT DATA
//////////////////////////////

const chats={
  Chris:{
    photo:"https://i.ibb.co/CKXkQQnS/dice2.png",
    bg:"https://i.postimg.cc/pTKxwzsN/giphy.gif",
    status:"online",
    msgs:["Hola üëã","El space est√° en mantenimiento"]
  },
  Taiga:{
    photo:"https://i.ibb.co/Kzc35TgL/41-2.png",
    bg:"https://i.postimg.cc/NfDGG8Bs/giphy-(2).gif",
    status:"away",
    msgs:["Eres cotilla üòÖ"]
  },
  Cesar:{
    photo:"https://i.ibb.co/Q7wWGYsP/kuro7.png",
    bg:"https://i.postimg.cc/8zsG1qZm/giphy-(1).gif",
    status:"busy",
    msgs:["Deja de chismear üòë"]
  }
};

const friends=$("#friends");
const chatBox = $("#chatBox");
const header=$("#chatHeader");

Object.keys(chats).forEach(name=>{
  const f=document.createElement("div");
  f.className="friend";
  f.innerHTML=`<img src="${chats[name].photo}">${name}`;
  f.onclick=()=>loadChat(name);
  friends.appendChild(f);
});

function loadChat(name){
  state.activeChat=name;
  const user=chats[name];

  chatBox.innerHTML="";
  header.style.backgroundImage=`url(${user.bg})`;
  header.innerHTML=`
    <img src="${user.photo}">
    <div>
      <b>${name}</b><br>
      <small>
        <span class="status-dot ${user.status}"></span>
        ${user.status.toUpperCase()}
      </small>
    </div>
  `;

  user.msgs.forEach((m,i)=>{
    addMessage(m,i%2?"me":"friend");
  });
}

//////////////////////////////
// CHAT SIMULATOR
//////////////////////////////

const chatInput=$("#chatInput");
const sendBtn=$("#sendMsg");

function addMessage(text, type = "friend"){
  const msg = document.createElement("div");
  msg.className = "msg " + type;
  msg.textContent = text;
  chatBox.appendChild(msg);
  chatBox.scrollTop = chatBox.scrollHeight;
}

function fakeReply(){
  const replies=[
    "JAJA real üòÇ",
    "No puede ser",
    "Eso est√° loco",
    "Confirmo",
    "Bro üíÄ"
  ];

  const typing=document.createElement("div");
  typing.className="typing";
  typing.innerHTML="<div class='dot'></div><div class='dot'></div><div class='dot'></div>";
  chatBox.appendChild(typing);
  chatBox.scrollTop=chatBox.scrollHeight;

  setTimeout(()=>{
    typing.remove();
    const r=replies[Math.floor(Math.random()*replies.length)];
    addMessage(r,"friend");
  },1000+Math.random()*1000);
}

function sendMessage(){
  const text=chatInput.value.trim();
  if(!text) return;

  addMessage(text,"me");
  chatInput.value="";
  fakeReply();
}

sendBtn.addEventListener("click",sendMessage);
chatInput.addEventListener("keydown", e=>{
  if(e.key==="Enter") sendMessage();
});

//////////////////////////////
// CLOCK
//////////////////////////////

function clock(){
  const d=new Date();
  $("#clock").innerHTML=
    d.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})+
    "<br>"+d.toLocaleDateString("es-ES");
}
clock();
setInterval(clock,1000);

//////////////////////////////
// PLAYER
//////////////////////////////

const tracks=[
  {name:"Justin Bieber - Confidence",src:"song.mp3"},
  {name:"Yapi - ¬øD√≥nde te escondes?",src:"song2.mp3"}
];

const audio=$("#audio");
const play=$("#play");
const bar=$("#bar");
const list=$("#playlist");
const title=$("#songTitle");

function loadTrack(i){
  state.currentTrack=i;
  audio.src=tracks[i].src;
  title.textContent=tracks[i].name;
  $$(".track").forEach(t=>t.classList.remove("active"));
  $$(".track")[i].classList.add("active");
  bar.style.width="0%";
}

tracks.forEach((t,i)=>{
  const d=document.createElement("div");
  d.className="track";
  d.textContent=t.name;
  d.onclick=()=>{
    loadTrack(i);
    audio.play();
  };
  list.appendChild(d);
});

loadTrack(0);

play.onclick=()=>{
  audio.paused?audio.play():audio.pause();
};

audio.ontimeupdate=()=>{
  if(audio.duration)
    bar.style.width=
    (audio.currentTime/audio.duration*100)+"%";
};

audio.onended=()=>{
  state.currentTrack=
    (state.currentTrack+1)%tracks.length;
  loadTrack(state.currentTrack);
  audio.play();
};

//////////////////////////////
// PARTICLES
//////////////////////////////

const canvas=$("#particles");
const ctx=canvas.getContext("2d");

function resizeCanvas(){
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize",resizeCanvas);

const particles=Array.from({length:70},()=>({
  x:Math.random()*canvas.width,
  y:Math.random()*canvas.height,
  r:Math.random()*2+1,
  vx:(Math.random()-.5)*0.4,
  vy:(Math.random()-.5)*0.4
}));

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  ctx.beginPath();
  particles.forEach(p=>{
    p.x+=p.vx;
    p.y+=p.vy;
    if(p.x<0||p.x>canvas.width) p.vx*=-1;
    if(p.y<0||p.y>canvas.height) p.vy*=-1;
    ctx.moveTo(p.x,p.y);
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
  });

  ctx.fillStyle="rgba(255,255,255,.6)";
  ctx.fill();

  requestAnimationFrame(animate);
}
animate();

//////////////////////////////
// WALLPAPERS
//////////////////////////////

const wallpapers=[
"https://i.ibb.co/S4wLCz9M/1399771.png",
"https://i.ibb.co/Mk7tsD8f/1400584.png",
"https://i.ibb.co/HyZHc46/1271005.png",
"https://i.ibb.co/xSf0ffVg/1260050.png"
];

const layers=$$(".wallpaper-layer");
const selector=$("#wallSelector");
let activeLayer=0;

layers[0].style.backgroundImage=
`url(${wallpapers[state.currentWallpaper]})`;
layers[0].classList.add("active");

wallpapers.forEach((src,i)=>{
  const thumb=document.createElement("div");
  thumb.className="wall-thumb";
  thumb.style.backgroundImage=`url(${src})`;
  if(i===state.currentWallpaper)
    thumb.classList.add("active");

  thumb.onclick=()=>{
    if(i===state.currentWallpaper) return;

    localStorage.setItem("wall",i);
    const next=activeLayer?0:1;

    layers[next].style.backgroundImage=`url(${src})`;
    layers[next].classList.add("active");
    layers[activeLayer].classList.remove("active");

    activeLayer=next;
    state.currentWallpaper=i;

    $$(".wall-thumb")
      .forEach(t=>t.classList.remove("active"));
    thumb.classList.add("active");
  };

  selector.appendChild(thumb);
});

});
</script>

  
</body>
</html>




























