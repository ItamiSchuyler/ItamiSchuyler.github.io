<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Escritorio Itami</title>

<style>
*{box-sizing:border-box;font-family:Arial,sans-serif}
html,body{margin:0;width:100%;height:100%;overflow:hidden;background:#000}

/* Fondo */
#video-bg{
  position:fixed;inset:0;
  width:100%;height:100%;
  object-fit:cover;z-index:-1;
}

/* Escritorio */
#desktop{position:relative;width:100%;height:100%;padding:20px}

/* Carpetas */
.folder{
  width:90px;
  color:#fff;
  text-align:center;
  position:absolute;
  cursor:pointer;
  user-select:none;
  border-radius:6px;
}
.folder img{width:64px}
.folder.selected{background:rgba(255,255,255,.15)}

/* Ventanas */
.window{
  position:absolute;
  width:500px;
  background:#1b1b1b;
  color:#eee;
  border-radius:12px;
  box-shadow:0 20px 50px rgba(0,0,0,.7);
  display:none;
}
.titlebar{
  background:#000;
  padding:10px;
  display:flex;
  justify-content:space-between;
  cursor:move;
}
.content{padding:15px;max-height:420px;overflow:auto}

/* GalerÃ­a */
.gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.item{position:relative}
.item img,.item video{width:100%;border-radius:8px}
.overlay{
  position:absolute;inset:0;background:rgba(0,0,0,.7);
  display:flex;align-items:center;justify-content:center;
  opacity:0;transition:.3s
}
.item:hover .overlay{opacity:1}

/* Barra tareas */
#taskbar{
  position:fixed;bottom:0;left:0;width:100%;height:50px;
  background:rgba(10,10,10,.95);
  display:flex;align-items:center;justify-content:space-between;
  padding:0 15px;color:#fff
}

#notify{font-size:22px;cursor:pointer;animation:pulse 1.5s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}

#clock{font-size:13px;text-align:right}

/* Chat */
#chatApp{width:700px}
.chat-wrap{display:flex;height:100%}
.friends{width:200px;background:#111}
.friend{padding:10px;display:flex;gap:10px;cursor:pointer}
.friend img{width:36px;height:36px;border-radius:50%}
.friend:hover{background:#222}
.chat-box{flex:1;padding:10px}
.msg{max-width:70%;padding:8px 12px;border-radius:12px;margin-bottom:6px}
.them{background:#333}
.me{background:#0078ff;margin-left:auto}

/* Player */
#player{
  position:fixed;right:20px;bottom:70px;width:300px;
  background:rgba(15,15,15,.95);border-radius:14px;padding:15px;color:#fff
}
#controls{display:flex;align-items:center;gap:10px;margin-top:10px}
#play{font-size:22px;cursor:pointer}
#progress{flex:1;height:5px;background:#333;border-radius:4px;cursor:pointer}
#bar{height:100%;width:0;background:#fff;border-radius:4px}
#volume{width:60px}
.track{font-size:12px;padding:4px;cursor:pointer;opacity:.6}
.track.active{opacity:1}
</style>
</head>

<body>

<video id="video-bg" autoplay muted loop playsinline>
  <source src="fondo.mp4" type="video/mp4">
</video>

<div id="desktop">
  <div class="folder" data-open="itami" style="top:20px;left:20px">
    <img src="https://cdn-icons-png.flaticon.com/512/716/716784.png"><div>itami</div>
  </div>
  <div class="folder" data-open="trabajos" style="top:120px;left:20px">
    <img src="https://cdn-icons-png.flaticon.com/512/716/716784.png"><div>mis trabajos</div>
  </div>
  <div class="folder" data-open="codigos" style="top:220px;left:20px">
    <img src="https://cdn-icons-png.flaticon.com/512/716/716784.png"><div>cÃ³digos</div>
  </div>
</div>

<div class="window" id="itami">
  <div class="titlebar">Itami <span onclick="closeWin('itami')">âœ•</span></div>
  <div class="content">
    <img src="https://placekitten.com/450/220" style="width:100%;border-radius:8px">
    <p><strong>Itami</strong><br>DiseÃ±ador & Programador</p>
  </div>
</div>

<div class="window" id="trabajos">
  <div class="titlebar">Mis trabajos <span onclick="closeWin('trabajos')">âœ•</span></div>
  <div class="content gallery">
    <div class="item"><img src="https://placekitten.com/300/200"><div class="overlay">Proyecto Web</div></div>
    <div class="item"><img src="https://placekitten.com/301/200"><div class="overlay">UI Design</div></div>
  </div>
</div>

<div class="window" id="codigos">
  <div class="titlebar">CÃ³digos <span onclick="closeWin('codigos')">âœ•</span></div>
  <div class="content gallery">
    <div class="item"><video src="demo.mp4" muted loop></video><div class="overlay">Demo</div></div>
  </div>
</div>

<div class="window" id="chatApp">
  <div class="titlebar">Chats <span onclick="closeWin('chatApp')">âœ•</span></div>
  <div class="content chat-wrap">
    <div class="friends" id="friends"></div>
    <div class="chat-box" id="chatBox"></div>
  </div>
</div>

<div id="taskbar">
  <div id="notify" onclick="openWin('chatApp')">ðŸ””</div>
  <div id="clock"></div>
</div>

<div id="player">
  <strong>Music Player</strong>
  <div id="controls">
    <div id="play">â–¶</div>
    <div id="progress"><div id="bar"></div></div>
    <input id="volume" type="range" min="0" max="1" step="0.01" value="0.7">
  </div>
  <div id="playlist"></div>
</div>

<audio id="audio" preload="auto"></audio>

<script>
let z=10;

function openWin(id){
  const w=document.getElementById(id);
  w.style.display='block';
  w.style.zIndex=++z;
  w.style.left='150px';
  w.style.top='100px';
}
function closeWin(id){document.getElementById(id).style.display='none';}

/* Carpetas */
document.querySelectorAll('.folder').forEach(f=>{
  let clicks=0;
  f.onclick=()=>{
    clicks++;f.classList.add('selected');
    setTimeout(()=>f.classList.remove('selected'),200);
    setTimeout(()=>clicks=0,300);
    if(clicks===2)openWin(f.dataset.open);
  };
});

/* Arrastrar ventanas */
document.querySelectorAll('.window').forEach(w=>{
  const bar=w.querySelector('.titlebar');
  bar.onmousedown=e=>{
    const r=w.getBoundingClientRect();
    const ox=e.clientX-r.left,oy=e.clientY-r.top;
    document.onmousemove=ev=>{
      w.style.left=(ev.clientX-ox)+'px';
      w.style.top=(ev.clientY-oy)+'px';
    };
    document.onmouseup=()=>document.onmousemove=null;
  };
});

/* Chat */
const chats={Ana:['Hola ðŸ‘‹','QuÃ© buen portfolio'],Carlos:['Esto parece Windows ðŸ˜®','Muy pro']};
const friends=document.getElementById('friends');
const chatBox=document.getElementById('chatBox');
Object.keys(chats).forEach(n=>{
  const f=document.createElement('div');
  f.className='friend';
  f.innerHTML=`<img src="https://i.pravatar.cc/100?u=${n}">${n}`;
  f.onclick=()=>loadChat(n);
  friends.appendChild(f);
});
function loadChat(n){chatBox.innerHTML='';chats[n].forEach((t,i)=>{setTimeout(()=>{
  const d=document.createElement('div');
  d.className='msg '+(i%2?'me':'them');
  d.textContent=t;chatBox.appendChild(d);
},i*400);});}

/* Player FIX */
const tracks=[{name:'CanciÃ³n',src:'cancion.mp3'}];
const audio=document.getElementById('audio');
const play=document.getElementById('play');
const bar=document.getElementById('bar');
const vol=document.getElementById('volume');
const list=document.getElementById('playlist');

tracks.forEach((t,i)=>{
  const d=document.createElement('div');
  d.className='track';d.textContent=t.name;
  d.onclick=()=>{audio.src=t.src;audio.play();play.textContent='â¸';};
  list.appendChild(d);
});

play.onclick=()=>{
  if(!audio.src)audio.src=tracks[0].src;
  if(audio.paused){audio.play();play.textContent='â¸'}
  else{audio.pause();play.textContent='â–¶'}
};

audio.ontimeupdate=()=>{if(audio.duration)bar.style.width=(audio.currentTime/audio.duration*100)+'%'};
vol.oninput=()=>audio.volume=vol.value;

/* Reloj */
function updateClock(){
  const d=new Date();
  document.getElementById('clock').innerHTML=
    d.toLocaleTimeString().slice(0,5)+'<br>'+d.toLocaleDateString();
}
setInterval(updateClock,1000);updateClock();
</script>

</body>
</html>
